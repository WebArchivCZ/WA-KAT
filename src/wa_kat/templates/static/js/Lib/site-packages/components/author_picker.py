#! /usr/bin/env python
# -*- coding: utf-8 -*-
#
# Interpreter version: python 2.7
#
# Imports =====================================================================
from browser import document

from browser import alert  # TODO: Remove


# Variables ===================================================================
# Functions & classes =========================================================
class AuthorPicker(object):
    div_el = document["author_picker"]  # whole <div>
    input_el = document["author_input"]  # <input> for author's name
    search_btn_el = document["search_author"]  # trigger the search of author
    select_el = document["author_select"]  # <select> element with authors
    storno_btn_el = document["storno_author"]  # used to storno the picking
    pick_btn_el = document["pick_author"]  # used to accept the selected author
    black_overlay_el = document["black_overlay"]

    picked_author = None

    @classmethod
    def show(cls):
        cls.div_el.style.display = "block"
        cls.black_overlay_el.style.display = "block"
        cls.black_overlay_el.bind("click", lambda x: cls.hide())

    @classmethod
    def hide(cls):
        cls.div_el.style.display = "none"
        cls.black_overlay_el.style.display = "none"

    @classmethod
    def on_pick_button_pressed(cls, ev):
        alert(cls.select_el.selected)

    @classmethod
    def bind(cls):
        cls.storno_btn_el.bind("click", lambda x: cls.hide())


AuthorPicker.bind()
